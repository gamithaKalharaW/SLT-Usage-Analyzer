{% extends "base.html" %}
{% block content %}

<h1>Total Usage Details</h1>

<div class="total-container">
  <div class="progress-container">
    <div class="progress-strip" id="total-progress-strip">
      <div class="progress-label">
        <p id="vas-prog-lbl">{{ tot_use_perc }}% Remaining</p>
      </div>
    </div>
  </div>
  <div class="total-bar-container">
    <p style="text-align: right;color: #ebfae1;font-size: 18px">Standard</p>
    <div class="total-progress-bar" id="total-stand">
      <p style="text-align: left;color: #ebfae1;font-size: 14px;maring: 0px; padding: 0px">{{ stand_used }}GB</p>
      <p style="text-align: right;color: #ebfae1;font-size: 14px;maring: 0px; padding: 0px">{{ stand_rem }}GB</p>
    </div>
    <p style="text-align: left;color: #ebfae1;font-size: 18px">{{ stand_use_perc }}%</p>
  </div>
  <div class="total-bar-container">
    <p style="text-align: right;color: #ebfae1;font-size: 18px">Free</p>
    <div class="total-progress-bar" id="total-free">
      <p style="text-align: left;color: #ebfae1;font-size: 14px;maring: 0px; padding: 0px">{{ free_used}}GB</p>
      <p style="text-align: right;color: #ebfae1;font-size: 14px;maring: 0px; padding: 0px">{{ free_rem }}GB</p>
    </div>
    <p style="text-align: left;color: #ebfae1;font-size: 18px">{{ free_use_perc }}%</p>
  </div>
</div>

<script>
  let total_angle = {{ tot_use_angle }};
  let stand_use_perc = {{ stand_use_perc }};
  let free_use_perc = {{ free_use_perc }};
  /*
  Sources: 
    - https://www.w3schools.com/jquery/jquery_syntax.asp
    - https://stackoverflow.com/questions/35180190/how-to-dynamically-modify-css-using-python
  */
  $("#total-progress-strip").css("background-image", "conic-gradient(#3ccd6a " + total_angle + "deg, #3077b4 0deg)");
  $("#total-stand").css("background-image", "linear-gradient(90deg, #3CCD6A " + stand_use_perc + "%, #3077B4 0%)");
  $("#total-free").css("background-image", "linear-gradient(90deg, #3CCD6A " + free_use_perc + "%, #3077B4 0%)");
</script>

{% endblock %}
